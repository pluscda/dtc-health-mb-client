{"version":3,"sources":["webpack:///./node_modules/core-js/internals/string-pad.js","webpack:///./src/views/MyOrderList.vue?a70b","webpack:///./node_modules/core-js/internals/date-to-iso-string.js","webpack:///./src/views/MyOrderList.vue?7b42","webpack:///./src/views/MyOrderList.vue?609c","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./src/views/MyOrderList.vue?705d","webpack:///src/views/MyOrderList.vue","webpack:///./src/views/MyOrderList.vue?3c14","webpack:///./src/views/MyOrderList.vue","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./node_modules/core-js/modules/es.date.to-iso-string.js"],"names":["toLength","repeat","requireObjectCoercible","ceil","Math","createMethod","IS_END","$this","maxLength","fillString","fillLen","stringFiller","S","String","stringLength","length","fillStr","undefined","intMaxLength","call","slice","module","exports","start","end","fails","padStart","abs","DatePrototype","Date","prototype","getTime","nativeDateToISOString","toISOString","NaN","isFinite","this","RangeError","date","year","getUTCFullYear","milliseconds","getUTCMilliseconds","sign","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","Component","options","__i18n","push","_Ctor","$","$find","find","addToUnscopables","arrayMethodUsesToLength","FIND","SKIPS_HOLES","USES_TO_LENGTH","Array","target","proto","forced","callbackfn","arguments","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","loadingApi","on","$event","$router","scopedSlots","_u","key","fn","commentFilter","_v","_e","proxy","addComment","myMsg","showLeavelMsg","model","value","callback","$$v","expression","_l","item","i","details","price","getDesc","getTitle","getImgPath","viewDetail","_s","$formatStatus","status","viewComment","comment","orders","style","docComment","$twDate","commentAt","userComment","staticRenderFns","name","data","docs","skip","computed","methods","doctorPhone","description","hospital","title","orderDate","mounted","getOrderHistoryList","watch","component","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","join","ES3_STRINGS","Object","STRICT_METHOD","separator"],"mappings":"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","file":"js/chunk-50f408f8.1b00e025.js","sourcesContent":["// https://github.com/tc39/proposal-string-pad-start-end\nvar toLength = require('../internals/to-length');\nvar repeat = require('../internals/string-repeat');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar ceil = Math.ceil;\n\n// `String.prototype.{ padStart, padEnd }` methods implementation\nvar createMethod = function (IS_END) {\n  return function ($this, maxLength, fillString) {\n    var S = String(requireObjectCoercible($this));\n    var stringLength = S.length;\n    var fillStr = fillString === undefined ? ' ' : String(fillString);\n    var intMaxLength = toLength(maxLength);\n    var fillLen, stringFiller;\n    if (intMaxLength <= stringLength || fillStr == '') return S;\n    fillLen = intMaxLength - stringLength;\n    stringFiller = repeat.call(fillStr, ceil(fillLen / fillStr.length));\n    if (stringFiller.length > fillLen) stringFiller = stringFiller.slice(0, fillLen);\n    return IS_END ? S + stringFiller : stringFiller + S;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.padStart` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.padstart\n  start: createMethod(false),\n  // `String.prototype.padEnd` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.padend\n  end: createMethod(true)\n};\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyOrderList.vue?vue&type=style&index=0&id=478e0e12&lang=scss&scoped=true&\"","'use strict';\nvar fails = require('../internals/fails');\nvar padStart = require('../internals/string-pad').start;\n\nvar abs = Math.abs;\nvar DatePrototype = Date.prototype;\nvar getTime = DatePrototype.getTime;\nvar nativeDateToISOString = DatePrototype.toISOString;\n\n// `Date.prototype.toISOString` method implementation\n// https://tc39.github.io/ecma262/#sec-date.prototype.toisostring\n// PhantomJS / old WebKit fails here:\nmodule.exports = (fails(function () {\n  return nativeDateToISOString.call(new Date(-5e13 - 1)) != '0385-07-25T07:06:39.999Z';\n}) || !fails(function () {\n  nativeDateToISOString.call(new Date(NaN));\n})) ? function toISOString() {\n  if (!isFinite(getTime.call(this))) throw RangeError('Invalid time value');\n  var date = this;\n  var year = date.getUTCFullYear();\n  var milliseconds = date.getUTCMilliseconds();\n  var sign = year < 0 ? '-' : year > 9999 ? '+' : '';\n  return sign + padStart(abs(year), sign ? 6 : 4, 0) +\n    '-' + padStart(date.getUTCMonth() + 1, 2, 0) +\n    '-' + padStart(date.getUTCDate(), 2, 0) +\n    'T' + padStart(date.getUTCHours(), 2, 0) +\n    ':' + padStart(date.getUTCMinutes(), 2, 0) +\n    ':' + padStart(date.getUTCSeconds(), 2, 0) +\n    '.' + padStart(milliseconds, 3, 0) +\n    'Z';\n} : nativeDateToISOString;\n","import mod from \"-!../../node_modules/@intlify/vue-i18n-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyOrderList.vue?vue&type=custom&index=0&blockType=i18n\"; export default mod; export * from \"-!../../node_modules/@intlify/vue-i18n-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyOrderList.vue?vue&type=custom&index=0&blockType=i18n\"","module.exports = function (Component) {\n  Component.options.__i18n = Component.options.__i18n || []\n  Component.options.__i18n.push('{\"zh-tw\":{\"title\":\"名醫會館\"},\"zh-cn\":{\"title\":\"名医会馆\"}}')\n  delete Component.options._Ctor\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND);\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"doc-list\"},[_c('van-overlay',{staticStyle:{\"z-index\":\"999\",\"text-align\":\"center\"},attrs:{\"show\":_vm.loadingApi}},[_c('van-loading',{attrs:{\"type\":\"spinner\"}})],1),_c('van-nav-bar',{attrs:{\"title\":\"我的預約紀錄\",\"left-text\":\"返回\",\"left-arrow\":\"\"},on:{\"click-left\":function($event){return _vm.$router.push('login')}},scopedSlots:_vm._u([{key:\"right\",fn:function(){return [(_vm.commentFilter)?_c('van-tag',{staticClass:\"ml-2\",attrs:{\"round\":\"\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.commentFilter = ''}}},[_vm._v(\"離開留言區\")]):_vm._e()]},proxy:true}])}),(_vm.showLeavelMsg)?_c('van-field',{attrs:{\"autofocus\":\"true\",\"rows\":\"5\",\"autosize\":\"\",\"label\":\"留言\",\"type\":\"textarea\",\"maxlength\":\"150\",\"placeholder\":\"请输入留言\",\"show-word-limit\":\"\"},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [_c('van-tag',{staticClass:\"ml-2\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.addComment(_vm.myMsg, true)}}},[_vm._v(\"新增\")]),_c('van-tag',{staticClass:\"ml-2\",attrs:{\"type\":\"danger\"},on:{\"click\":function($event){_vm.showLeavelMsg = false}}},[_vm._v(\"取消\")])]},proxy:true}],null,false,2229602123),model:{value:(_vm.myMsg),callback:function ($$v) {_vm.myMsg=$$v},expression:\"myMsg\"}}):_vm._e(),_c('div'),_vm._l((_vm.orders),function(item,i){return (item.details)?_c('main',{key:i,staticClass:\"doc-item mt-1\"},[_c('van-card',{attrs:{\"price\":item.details.price,\"currency\":\"NT\",\"desc\":_vm.getDesc(item),\"title\":_vm.getTitle(item),\"thumb\":_vm.getImgPath(item, i)},on:{\"click\":function($event){return _vm.viewDetail(item)}},scopedSlots:_vm._u([{key:\"tags\",fn:function(){return [_c('van-tag',{attrs:{\"plain\":\"\",\"type\":\"danger\"}},[_vm._v(_vm._s(_vm.$formatStatus(item.status)))]),_c('van-tag',{staticStyle:{\"transform\":\"translateX(5px)\"},attrs:{\"plain\":\"\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.viewComment(item)}}},[_vm._v(\"可查看留言為\"+_vm._s(item.comment.length)+\"則\")]),(_vm.commentFilter)?_c('van-tag',{staticClass:\"ml-2\",staticStyle:{\"transform\":\"translateX(10px)\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.addComment()}}},[_vm._v(\"新增留言\")]):_vm._e()]},proxy:true},{key:\"footer\",fn:function(){return [(item.status == 'finish')?_c('van-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"再次預約\")]):_vm._e()]},proxy:true}],null,true)})],1):_vm._e()}),(_vm.commentFilter)?_c('nav',{staticClass:\"mt-1\",staticStyle:{\"color\":\"white\",\"font-size\":\"14px\"}},_vm._l((_vm.orders[0].comment),function(item,i){return _c('div',{key:i,staticClass:\"comment-dtc px-2 py-2\",style:(item.docComment ? 'background:#1f7cd3;' : 'background:#0f579b;')},[_c('div',{staticClass:\"mb-1\"},[_vm._v(_vm._s(_vm.$twDate(item.commentAt)))]),_c('div',{staticStyle:{\"padding-right\":\"50px\"}},[_vm._v(_vm._s(item.docComment || item.userComment))]),_c('div',{staticStyle:{\"float\":\"right\",\"margin-top\":\"-30px\"}},[(item.docComment)?_c('img',{staticStyle:{\"border-radius\":\"50%\"},attrs:{\"src\":\"https://www.cgh.org.tw/rwd101/Store/bImages/b07907.jpg\",\"width\":\"30\",\"height\":\"30\"}}):_vm._e(),(!item.docComment)?_c('img',{staticStyle:{\"border-radius\":\"50%\",\"color\":\"red\"},attrs:{\"src\":\"person.svg\",\"width\":\"30\",\"height\":\"30\"}}):_vm._e()])])}),0):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"doc-list\">\n    <van-overlay :show=\"loadingApi\" style=\"z-index:999;text-align:center;\">\n      <van-loading type=\"spinner\" />\n    </van-overlay>\n    <van-nav-bar title=\"我的預約紀錄\" left-text=\"返回\" left-arrow @click-left=\"$router.push('login')\">\n      <template #right>\n        <van-tag round v-if=\"commentFilter\" type=\"primary\" class=\"ml-2\" @click=\"commentFilter = ''\">離開留言區</van-tag>\n      </template>\n    </van-nav-bar>\n\n    <van-field\n      v-if=\"showLeavelMsg\"\n      autofocus=\"true\"\n      v-model=\"myMsg\"\n      rows=\"5\"\n      autosize\n      label=\"留言\"\n      type=\"textarea\"\n      maxlength=\"150\"\n      placeholder=\"请输入留言\"\n      show-word-limit\n    >\n      <template #button>\n        <van-tag type=\"primary\" class=\"ml-2\" @click=\"addComment(myMsg, true)\">新增</van-tag>\n        <van-tag type=\"danger\" class=\"ml-2\" @click=\"showLeavelMsg = false\">取消</van-tag>\n      </template>\n    </van-field>\n    <div></div>\n\n    <main v-for=\"(item, i) in orders\" :key=\"i\" class=\"doc-item mt-1\" v-if=\"item.details\">\n      <van-card @click=\"viewDetail(item)\" :price=\"item.details.price\" currency=\"NT\" :desc=\"getDesc(item)\" :title=\"getTitle(item)\" :thumb=\"getImgPath(item, i)\">\n        <template #tags>\n          <van-tag plain type=\"danger\">{{ $formatStatus(item.status) }}</van-tag>\n          <van-tag plain type=\"primary\" style=\"transform:translateX(5px)\" @click=\"viewComment(item)\">可查看留言為{{ item.comment.length }}則</van-tag>\n          <van-tag type=\"primary\" class=\"ml-2\" style=\"transform:translateX(10px)\" @click=\"addComment()\" v-if=\"commentFilter\">新增留言</van-tag>\n        </template>\n        <template #footer>\n          <van-tag type=\"success\" v-if=\"item.status == 'finish'\">再次預約</van-tag>\n        </template>\n      </van-card>\n    </main>\n    <nav v-if=\"commentFilter\" style=\"color:white;font-size:14px;\" class=\"mt-1\">\n      <div class=\"comment-dtc px-2 py-2\" v-for=\"(item, i) in orders[0].comment\" :key=\"i\" :style=\"item.docComment ? 'background:#1f7cd3;' : 'background:#0f579b;'\">\n        <div class=\"mb-1\">{{ $twDate(item.commentAt) }}</div>\n        <div style=\"padding-right:50px;\">{{ item.docComment || item.userComment }}</div>\n        <div style=\"float:right;margin-top:-30px;\">\n          <img v-if=\"item.docComment\" src=\"https://www.cgh.org.tw/rwd101/Store/bImages/b07907.jpg\" width=\"30\" height=\"30\" style=\"border-radius:50%;\" />\n          <img v-if=\"!item.docComment\" src=\"person.svg\" width=\"30\" height=\"30\" style=\"border-radius:50%;color:red;\" />\n        </div>\n      </div>\n    </nav>\n  </section>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport { store, mutations, actions } from \"@/store/global.js\";\n\nexport default {\n  name: \"login\",\n  data() {\n    return {\n      docs: [],\n      skip: 0,\n      orders: [],\n      commentFilter: \"\",\n      showLeavelMsg: false,\n      myMsg: \"\",\n      price: \"\",\n      loadingApi: false,\n    };\n  },\n  computed: {},\n  methods: {\n    async book(item) {\n      const obj = {\n        orderPhoneNum: sessionStorage.phone,\n        paidAmount: item.details.price,\n        status: \"waiting\", // process and finish\n        orderDate: new Date().toISOString(),\n        doctorPhone: item.details.phone,\n        isCancer: item.details.cid < store.MIN_NON_CANCER_NUM ? true : false,\n        hardCopyReceived: false,\n        copySendBack: false,\n        docHasCopy: false,\n        comment:\n          item.details.cid < store.MIN_NON_CANCER_NUM\n            ? [\n                {\n                  docComment: \"需要你的癌症報告,請你用郵件寄出\",\n                  commentAt: new Date().toISOString(),\n                  rating: 0,\n                  userComment: \"\",\n                },\n              ]\n            : [],\n      };\n      try {\n        this.loadingApi = true;\n        await actions.addOrder(obj);\n        Vue.$toast.success(\"你已預約成功\");\n        await this.getOrderHistoryList();\n      } catch (e) {\n        Vue.$toast.error(\"order fail\");\n      } finally {\n        sessionStorage.orderedDocPhone = \"\";\n        this.loadingApi = false;\n      }\n    },\n    async addComment(msg, userClick) {\n      if (!msg && !userClick) {\n        this.myMsg = \"\";\n        this.showLeavelMsg = true;\n      } else if (msg) {\n        const obj = { docComment: \"\", commentAt: new Date().toISOString(), rating: 0, userComment: msg };\n        this.orders[0].comment.unshift(obj);\n        await actions.updateOrder(this.orders[0]);\n        this.orders = [...this.orders];\n        this.commentFilter = \"\";\n        this.showLeavelMsg = false;\n      }\n    },\n    viewComment(item) {},\n    viewDetail(item) {\n      this.commentFilter = item.doctorPhone;\n    },\n    getDesc(item) {\n      return \"專長: \" + item.details.description;\n    },\n    getTitle(item) {\n      return item.details.name + \" | \" + item.details.hospital + \" | \" + item.details.title + \" @ \" + this.$twDate(item.orderDate) + \" 預約成功\";\n    },\n    getImgPath(item, i) {\n      return store.imgPrefix + item.details.cover.url;\n    },\n    async getOrderHistoryList() {\n      this.orders = [];\n      let qs = \"orderPhoneNum_eq=\" + sessionStorage.phone;\n      qs += \"&_sort=orderDate:desc\";\n      try {\n        this.loadingApi = true;\n        const { count, items } = await actions.getOrders(qs);\n        qs = items.map((s) => \"phone_in=\" + s.doctorPhone).join(\"&\");\n        const { items: docs } = await actions.getDoctors(qs);\n        // attach the doctor detail into each order here\n        docs.forEach((s) => (items.find((s2) => s2.doctorPhone == s.phone).details = s));\n        this.orders = items;\n      } finally {\n        this.loadingApi = false;\n      }\n    },\n  },\n  mounted() {\n    this.getOrderHistoryList();\n  },\n  watch: {},\n};\n</script>\n<i18n>\n{\n  \"zh-tw\": {\n    \"title\": \"名醫會館\"\n    \n  },\n  \"zh-cn\": {\n    \"title\": \"名医会馆\"\n  }\n}\n</i18n>\n\n<style lang=\"scss\" scoped>\n.doc-list {\n  background: var(--strapi-blue);\n  width: 100vw;\n  height: 100vh;\n  margin-bottom: 90px;\n  color: white;\n  //overflow-y: auto;\n  header {\n    font-size: 20px;\n    text-align: center;\n    padding-top: 3px;\n  }\n}\n.doc-item {\n  border-bottom: 1px solid #ebedf0;\n}\n.comment-dtc {\n  margin-bottom: 2px;\n  padding-right: 4px;\n  font-size: 12px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyOrderList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyOrderList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MyOrderList.vue?vue&type=template&id=478e0e12&scoped=true&\"\nimport script from \"./MyOrderList.vue?vue&type=script&lang=js&\"\nexport * from \"./MyOrderList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MyOrderList.vue?vue&type=style&index=0&id=478e0e12&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"478e0e12\",\n  null\n  \n)\n\n/* custom blocks */\nimport block0 from \"./MyOrderList.vue?vue&type=custom&index=0&blockType=i18n\"\nif (typeof block0 === 'function') block0(component)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","var $ = require('../internals/export');\nvar toISOString = require('../internals/date-to-iso-string');\n\n// `Date.prototype.toISOString` method\n// https://tc39.github.io/ecma262/#sec-date.prototype.toisostring\n// PhantomJS / old WebKit has a broken implementations\n$({ target: 'Date', proto: true, forced: Date.prototype.toISOString !== toISOString }, {\n  toISOString: toISOString\n});\n"],"sourceRoot":""}