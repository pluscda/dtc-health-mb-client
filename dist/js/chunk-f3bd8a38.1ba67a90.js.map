{"version":3,"sources":["webpack:///./src/views/MyCollectionList.vue?8d0d","webpack:///./src/views/MyCollectionList.vue?d6e5","webpack:///./src/views/MyCollectionList.vue?34ea","webpack:///./src/views/MyCollectionList.vue?7eaa","webpack:///src/views/MyCollectionList.vue","webpack:///./src/views/MyCollectionList.vue?5886","webpack:///./src/views/MyCollectionList.vue"],"names":["module","exports","Component","options","__i18n","push","_Ctor","render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","loadingApi","on","$event","$router","_l","item","i","key","price","getDesc","getTitle","getImgPath","viewDetail","scopedSlots","_u","fn","stopPropagation","removeCollection","_v","proxy","staticRenderFns","name","data","id","docs","cates","skip","cat","searchBy","myPreviousOrders","jsonOutput","favList","computed","unFinishOrders","filter","methods","window","scrollTo","top","behavior","description","hospital","title","watch","component"],"mappings":"mGAAAA,EAAOC,QAAU,SAAUC,GACzBA,EAAUC,QAAQC,OAASF,EAAUC,QAAQC,QAAU,GACvDF,EAAUC,QAAQC,OAAOC,KAAK,8DACvBH,EAAUC,QAAQG,Q,6DCH3B,yBAAgR,eAAG,G,kCCAnR,W,yCCAA,IAAIC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACE,YAAY,iBAAiB,CAACF,EAAG,cAAc,CAACG,YAAY,CAAC,UAAU,OAAO,aAAa,UAAUC,MAAM,CAAC,KAAOR,EAAIS,aAAa,CAACL,EAAG,cAAc,CAACI,MAAM,CAAC,KAAO,cAAc,GAAGJ,EAAG,cAAc,CAACI,MAAM,CAAC,MAAQ,OAAO,YAAY,KAAK,aAAa,IAAIE,GAAG,CAAC,aAAa,SAASC,GAAQ,OAAOX,EAAIY,QAAQf,KAAK,aAAaG,EAAIa,GAAIb,EAAQ,MAAE,SAASc,EAAKC,GAAG,OAAOX,EAAG,OAAO,CAACY,IAAID,EAAET,YAAY,iBAAiB,CAACF,EAAG,WAAW,CAACI,MAAM,CAAC,MAAQM,EAAKG,MAAM,SAAW,KAAK,KAAOjB,EAAIkB,QAAQJ,GAAM,MAAQd,EAAImB,SAASL,GAAM,MAAQd,EAAIoB,WAAWN,EAAMC,IAAIL,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOX,EAAIqB,WAAWP,KAAQQ,YAAYtB,EAAIuB,GAAG,CAAC,CAACP,IAAI,SAASQ,GAAG,WAAW,MAAO,CAACpB,EAAG,aAAa,CAACE,YAAY,OAAOE,MAAM,CAAC,KAAO,QAAQ,KAAO,QAAQE,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAOc,kBAAyBzB,EAAI0B,iBAAiBZ,MAAS,CAACd,EAAI2B,GAAG,YAAYC,OAAM,IAAO,MAAK,MAAS,OAAM,IACp+BC,EAAkB,G,kGCmBtB,GACEC,KAAM,UACNC,KAFF,WAGI,MAAO,CACLC,GAAI,GACJF,KAAM,GACNG,KAAM,GACNC,MAAO,GACPC,KAAM,EACNC,IAAK,GACLC,SAAU,GACVC,iBAAkB,GAClB7B,YAAY,EACZ8B,WAAY,GACZC,QAAS,EAAf,eAGEC,SAAU,CACRC,eADJ,WAEM,OAAOzC,KAAKqC,iBAAiBK,QAAO,SAA1C,iCAGEC,QAAS,CACP,iBADJ,SACA,wKACA,kEACA,0EAFA,kBAIA,sBAJA,OAKA,gCACA,6DACA,kBACA,wBARA,qDAWA,iCAXA,6DAcIvB,WAfJ,SAeA,GACMwB,OAAOC,SAAS,CACdC,IAAK,EACLC,SAAU,WAIZ,EAAN,sBACM/C,KAAKW,QAAQf,KAAK,kBAEpBqB,QAzBJ,SAyBA,GACM,MAAO,OAASJ,EAAKmC,aAEvB9B,SA5BJ,SA4BA,GACM,OAAOL,EAAKgB,KAAO,MAAQhB,EAAKoC,SAAW,MAAQpC,EAAKqC,OAE1D/B,WA/BJ,SA+BA,KACM,OAAO,EAAb,4BAEI,WAlCJ,WAkCA,gLAEA,EAFA,+BAGA,aAHA,OAGA,EAHA,OAIA,oGAJA,gHAQE,QAhEF,WAgEA,iLAEA,eAFA,yDAIA,qBAJA,uBAMA,gBANA,6EASEgC,MAAO,IC7FiV,I,oCCQtVC,EAAY,eACd,EACAtD,EACA8B,GACA,EACA,KACA,WACA,MAMoB,oBAAX,cAAuB,qBAAOwB,GAE1B,aAAAA,E","file":"js/chunk-f3bd8a38.1ba67a90.js","sourcesContent":["module.exports = function (Component) {\n  Component.options.__i18n = Component.options.__i18n || []\n  Component.options.__i18n.push('{\"zh-tw\":{\"title\":\"名醫會館\"},\"zh-cn\":{\"title\":\"名医会馆\"}}')\n  delete Component.options._Ctor\n}\n","import mod from \"-!../../node_modules/@intlify/vue-i18n-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyCollectionList.vue?vue&type=custom&index=0&blockType=i18n\"; export default mod; export * from \"-!../../node_modules/@intlify/vue-i18n-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyCollectionList.vue?vue&type=custom&index=0&blockType=i18n\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyCollectionList.vue?vue&type=style&index=0&id=083fcb88&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"doc-list pt-2\"},[_c('van-overlay',{staticStyle:{\"z-index\":\"9999\",\"text-align\":\"center\"},attrs:{\"show\":_vm.loadingApi}},[_c('van-loading',{attrs:{\"type\":\"spinner\"}})],1),_c('van-nav-bar',{attrs:{\"title\":\"我的收藏\",\"left-text\":\"返回\",\"left-arrow\":\"\"},on:{\"click-left\":function($event){return _vm.$router.push('login')}}}),_vm._l((_vm.docs),function(item,i){return _c('main',{key:i,staticClass:\"doc-item mt-1\"},[_c('van-card',{attrs:{\"price\":item.price,\"currency\":\"NT\",\"desc\":_vm.getDesc(item),\"title\":_vm.getTitle(item),\"thumb\":_vm.getImgPath(item, i)},on:{\"click\":function($event){return _vm.viewDetail(item)}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('van-button',{staticClass:\"mr-2\",attrs:{\"size\":\"small\",\"type\":\"info\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.removeCollection(item)}}},[_vm._v(\"取消收藏\")])]},proxy:true}],null,true)})],1)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"doc-list pt-2\">\n    <van-overlay :show=\"loadingApi\" style=\"z-index:9999;text-align:center\">\n      <van-loading type=\"spinner\" />\n    </van-overlay>\n    <van-nav-bar title=\"我的收藏\" left-text=\"返回\" left-arrow @click-left=\"$router.push('login')\"> </van-nav-bar>\n\n    <main v-for=\"(item, i) in docs\" :key=\"i\" class=\"doc-item mt-1\">\n      <van-card @click=\"viewDetail(item)\" :price=\"item.price\" currency=\"NT\" :desc=\"getDesc(item)\" :title=\"getTitle(item)\" :thumb=\"getImgPath(item, i)\">\n        <template #footer>\n          <van-button size=\"small\" type=\"info\" class=\"mr-2\" @click.stop=\"removeCollection(item)\">取消收藏</van-button>\n        </template>\n      </van-card>\n    </main>\n  </section>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport { store, actions } from \"@/store/global.js\";\nexport default {\n  name: \"docList\",\n  data() {\n    return {\n      id: \"\",\n      name: \"\",\n      docs: [],\n      cates: [],\n      skip: 0,\n      cat: \"\",\n      searchBy: \"\",\n      myPreviousOrders: [],\n      loadingApi: false,\n      jsonOutput: \"\",\n      favList: store.favList,\n    };\n  },\n  computed: {\n    unFinishOrders() {\n      return this.myPreviousOrders.filter((s) => s.status != \"finish\");\n    },\n  },\n  methods: {\n    async removeCollection(item) {\n      const favId = this.favList.find((s) => s.doctorPhone == item.phone).id;\n      this.favList = this.favList.filter((s) => s.doctorPhone !== item.phone);\n      try {\n        await actions.removeMyFav(favId);\n        Vue.$toast.success(\"取消收藏成功\");\n        this.docs = this.docs.filter((s) => s.phone != item.phone);\n        if (!this.favList.length) {\n          this.$router.push(\"login\");\n        }\n      } catch (e) {\n        Vue.$toast.error(\"取消收藏 Fail\");\n      }\n    },\n    viewDetail(item) {\n      window.scrollTo({\n        top: 0,\n        behavior: \"smooth\",\n      });\n      // const ok = this.isOrderAble(item);\n      //ok ? (item.status = \"waiting\") : (item.status = \"finish\");\n      store.selectedDoctor = item;\n      this.$router.push(\"doctordetails\");\n    },\n    getDesc(item) {\n      return \"擅長: \" + item.description;\n    },\n    getTitle(item) {\n      return item.name + \" | \" + item.hospital + \" | \" + item.title;\n    },\n    getImgPath(item, i) {\n      return store.imgPrefix + item.cover.url;\n    },\n    async getFavList() {\n      try {\n        const url = `doctors?_limit=1130`;\n        const items = await axios.get(url);\n        this.docs = items.filter((s1) => this.favList.find((s2) => s2.doctorPhone == s1.phone));\n      } catch (e) {}\n    },\n  },\n  async mounted() {\n    try {\n      await this.getFavList();\n    } catch (e) {\n      alert(\"error \" + e);\n    } finally {\n      this.loadingApi = false;\n    }\n  },\n  watch: {},\n};\n</script>\n<i18n>\n{\n  \"zh-tw\": {\n    \"title\": \"名醫會館\"\n    \n  },\n  \"zh-cn\": {\n    \"title\": \"名医会馆\"\n  }\n}\n</i18n>\n\n<style lang=\"scss\" scoped>\n.doc-list {\n  background: var(--strapi-blue);\n  width: 100vw;\n  min-height: 100vh;\n  color: white;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 100px;\n  header {\n    font-size: 20px;\n    text-align: center;\n    color: black;\n  }\n}\n.doc-item {\n  border-bottom: 1px solid #ebedf0;\n}\n//1px solid #ebedf0\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyCollectionList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyCollectionList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MyCollectionList.vue?vue&type=template&id=083fcb88&scoped=true&\"\nimport script from \"./MyCollectionList.vue?vue&type=script&lang=js&\"\nexport * from \"./MyCollectionList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MyCollectionList.vue?vue&type=style&index=0&id=083fcb88&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"083fcb88\",\n  null\n  \n)\n\n/* custom blocks */\nimport block0 from \"./MyCollectionList.vue?vue&type=custom&index=0&blockType=i18n\"\nif (typeof block0 === 'function') block0(component)\n\nexport default component.exports"],"sourceRoot":""}