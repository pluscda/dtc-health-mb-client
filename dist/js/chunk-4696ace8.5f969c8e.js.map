{"version":3,"sources":["webpack:///./src/views/DocList.vue?5f42","webpack:///./src/views/DocList.vue?7f0b","webpack:///./src/views/DocList.vue?8a63","webpack:///./src/views/DocList.vue?d94e","webpack:///src/views/DocList.vue","webpack:///./src/views/DocList.vue?a240","webpack:///./src/views/DocList.vue"],"names":["module","exports","Component","options","__i18n","push","_Ctor","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","model","value","callback","$$v","searchBy","expression","_s","name","_l","item","i","key","price","getDesc","getTitle","getImgPath","on","$event","viewDetail","scopedSlots","_u","fn","getBooksNum","proxy","book","staticRenderFns","data","id","docs","skip","cat","methods","min","max","description","hospital","title","mounted","getDDL","watch","component"],"mappings":"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","file":"js/chunk-4696ace8.5f969c8e.js","sourcesContent":["module.exports = function (Component) {\n  Component.options.__i18n = Component.options.__i18n || []\n  Component.options.__i18n.push('{\"zh-tw\":{\"title\":\"名醫會館\"},\"zh-cn\":{\"title\":\"名医会馆\"}}')\n  delete Component.options._Ctor\n}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DocList.vue?vue&type=style&index=0&id=1466513e&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/@intlify/vue-i18n-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DocList.vue?vue&type=custom&index=0&blockType=i18n\"; export default mod; export * from \"-!../../node_modules/@intlify/vue-i18n-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DocList.vue?vue&type=custom&index=0&blockType=i18n\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"doc-list\"},[_c('header',[_vm._v(\"快速找名醫\")]),_c('van-search',{staticClass:\"mx-4 mt-2\",attrs:{\"background\":\"#1c1b7e\",\"shape\":\"round\",\"placeholder\":\"醫院 | 醫生名 | 病名\"},model:{value:(_vm.searchBy),callback:function ($$v) {_vm.searchBy=$$v},expression:\"searchBy\"}}),_c('h3',{staticClass:\"mt-3 ml-4 mb-4\"},[_vm._v(_vm._s(_vm.name)+\"熱門醫生\")]),_vm._l((_vm.docs),function(item,i){return _c('main',{key:i,staticClass:\"doc-item mt-1\"},[_c('van-card',{attrs:{\"price\":item.price,\"currency\":\"NT\",\"desc\":_vm.getDesc(item),\"title\":_vm.getTitle(item),\"thumb\":_vm.getImgPath(item)},on:{\"click\":function($event){return _vm.viewDetail(item)}},scopedSlots:_vm._u([{key:\"tags\",fn:function(){return [_c('van-tag',{attrs:{\"plain\":\"\",\"type\":\"danger\"}},[_vm._v(\"可預約數量剩餘(\"+_vm._s(_vm.getBooksNum())+\")\")])]},proxy:true},{key:\"footer\",fn:function(){return [_c('van-button',{staticClass:\"mr-2\",attrs:{\"size\":\"mini\"}},[_vm._v(\"標籤\")]),_c('van-button',{staticClass:\"mr-2\",attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.book(item)}}},[_vm._v(\"預約\")])]},proxy:true}],null,true)})],1)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"doc-list\">\n    <header>快速找名醫</header>\n    <van-search background=\"#1c1b7e\" v-model=\"searchBy\" shape=\"round\" class=\"mx-4 mt-2\" placeholder=\"醫院 | 醫生名 | 病名\"></van-search>\n    <h3 class=\"mt-3 ml-4 mb-4\">{{ name }}熱門醫生</h3>\n\n    <main v-for=\"(item, i) in docs\" :key=\"i\" class=\"doc-item mt-1\">\n      <van-card @click=\"viewDetail(item)\" :price=\"item.price\" currency=\"NT\" :desc=\"getDesc(item)\" :title=\"getTitle(item)\" :thumb=\"getImgPath(item)\">\n        <template #tags>\n          <van-tag plain type=\"danger\">可預約數量剩餘({{ getBooksNum() }})</van-tag>\n        </template>\n        <template #footer>\n          <van-button size=\"mini\" class=\"mr-2\">標籤</van-button>\n          <van-button size=\"mini\" class=\"mr-2\" @click=\"book(item)\">預約</van-button>\n        </template>\n      </van-card>\n    </main>\n  </section>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport faker from \"faker\";\nimport { store, mutations, actions } from \"@/store/global.js\";\n\nexport default {\n  name: \"login\",\n  data() {\n    return {\n      id: \"\",\n      name: \"\",\n      docs: [],\n      skip: 0,\n      cat: \"\",\n      searchBy: \"\",\n    };\n  },\n  methods: {\n    async book(item) {\n      const obj = {\n        orderPhoneNum: sessionStorage.phone,\n        paidAmount: item.price,\n        status: \"waiting\", // process and finish\n        orderDate: new Date().toISOString(),\n        doctorPhone: item.phone,\n        isCancer: true,\n        hardCopyReceived: false,\n        copySendBack: false,\n        docHasCopy: false,\n        comment: [\n          {\n            docComment: \"需要你的癌症報告,請你用郵件寄出\",\n            commentAt: new Date().toISOString(),\n            rating: 0,\n            userComment: \"\",\n          },\n        ],\n      };\n      try {\n        await actions.addOrder(obj);\n        Vue.$toast.success(\"order created\");\n      } catch (e) {\n        Vue.$toast.error(\"order fail\");\n      }\n    },\n    getBooksNum() {\n      return faker.random.number({\n        min: 1,\n        max: 10,\n      });\n    },\n    viewDetail(item) {\n      //alert();\n    },\n    getDesc(item) {\n      return \"專長: \" + item.description;\n    },\n    getTitle(item) {\n      return item.name + \" | \" + item.hospital + \" | \" + item.title;\n    },\n    getImgPath(item) {\n      // alert(JSON.stringify(store.imgPrefix + item.cover.url));\n      return store.imgPrefix + item.cover.url;\n    },\n    async getDDL() {\n      const url = this.id ? \"doctors?cid_eq=\" + this.id : `doctors?_limit=30&_start=${this.skip}`;\n      this.docs = await axios.get(url);\n    },\n  },\n  mounted() {\n    const { id, name } = this.$route.query;\n    this.id = +id;\n    this.name = name;\n    this.searchBy = name ? name : \"熱門醫生\";\n    this.getDDL();\n  },\n  watch: {},\n};\n</script>\n<i18n>\n{\n  \"zh-tw\": {\n    \"title\": \"名醫會館\"\n    \n  },\n  \"zh-cn\": {\n    \"title\": \"名医会馆\"\n  }\n}\n</i18n>\n\n<style lang=\"scss\" scoped>\n.doc-list {\n  background: var(--strapi-blue);\n  width: 100vw;\n  margin-bottom: 90px;\n  height: 100vh;\n  color: white;\n  header {\n    font-size: 20px;\n    text-align: center;\n    padding-top: 3px;\n  }\n}\n.doc-item {\n  border-bottom: 1px solid #ebedf0;\n}\n//1px solid #ebedf0\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DocList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DocList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DocList.vue?vue&type=template&id=1466513e&scoped=true&\"\nimport script from \"./DocList.vue?vue&type=script&lang=js&\"\nexport * from \"./DocList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DocList.vue?vue&type=style&index=0&id=1466513e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1466513e\",\n  null\n  \n)\n\n/* custom blocks */\nimport block0 from \"./DocList.vue?vue&type=custom&index=0&blockType=i18n\"\nif (typeof block0 === 'function') block0(component)\n\nexport default component.exports"],"sourceRoot":""}